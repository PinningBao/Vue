var Assert = require("assert");
var Util = require("util");
var Http = require("http");
var HttpServer_1 = require("../HttpServer");
var AppInfo_1 = require("../AppInfo");
var Config_1 = require("../Config");
var DbProcessor_1 = require("../DbProcessor");
var appInfo = new AppInfo_1.AppInfo("js-base", "0.0.0");
var config = new Config_1.Config(60000, "../data/");
var server = new HttpServer_1.HttpServer(appInfo, config, new DbProcessor_1.DbProcessor(config));
server.run();
describe("Server", function () {
    it(Util.format("Should listen on port %s", config.port), function (done) {
        Http.request({
            host: process.env.IP,
            port: config.port,
            method: "GET",
            path: "/"
        }, function (response) {
            Assert.equal(200, response.statusCode);
            done();
        }).end();
    });
    after(function () {
        server.stop();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlcnRlc3RzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLElBQVksTUFBTSxXQUFNLFFBQVEsQ0FBQyxDQUFBO0FBQ2pDLElBQVksSUFBSSxXQUFNLE1BQU0sQ0FBQyxDQUFBO0FBQzdCLElBQVksSUFBSSxXQUFNLE1BQU0sQ0FBQyxDQUFBO0FBQzdCLDJCQUF5QixlQUFlLENBQUMsQ0FBQTtBQUN6Qyx3QkFBc0IsWUFBWSxDQUFDLENBQUE7QUFDbkMsdUJBQXFCLFdBQVcsQ0FBQyxDQUFBO0FBQ2pDLDRCQUEwQixnQkFBZ0IsQ0FBQyxDQUFBO0FBRTNDLElBQUksT0FBTyxHQUFHLElBQUksaUJBQU8sQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDOUMsSUFBSSxNQUFNLEdBQUcsSUFBSSxlQUFNLENBQUMsS0FBSyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQzNDLElBQUksTUFBTSxHQUFHLElBQUksdUJBQVUsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLElBQUkseUJBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBRXRFLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUViLFFBQVEsQ0FBQyxRQUFRLEVBQUU7SUFDZixFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQywwQkFBMEIsRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsVUFBVSxJQUFJO1FBQ25FLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDVCxJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ3BCLElBQUksRUFBRSxNQUFNLENBQUMsSUFBSTtZQUNqQixNQUFNLEVBQUUsS0FBSztZQUNiLElBQUksRUFBRSxHQUFHO1NBQ1osRUFBRSxVQUFVLFFBQVE7WUFDakIsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3ZDLElBQUksRUFBRSxDQUFDO1FBQ1gsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDYixDQUFDLENBQUMsQ0FBQztJQUVILEtBQUssQ0FBQztRQUNGLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNsQixDQUFDLENBQUMsQ0FBQztBQUNQLENBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6IlNlcnZlclRlc3RzLmpzIiwic291cmNlUm9vdCI6Ii4uLyJ9
