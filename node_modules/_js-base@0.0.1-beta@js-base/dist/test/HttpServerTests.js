var Assert = require("assert");
var Util = require("util");
var Http = require("http");
var HttpStatusCodes = require("http-status-codes");
var Path = require("path");
var rimraf = require("rimraf");
var HttpServer_1 = require("../HttpServer");
var Config_1 = require("../Config");
var DbProcessor_1 = require("../DbProcessor");
var TestConfig_1 = require("./TestConfig");
var testConfig = TestConfig_1.TestConfig.instance;
var config = new Config_1.Config(60001, testConfig.relativeDataPath);
var server = new HttpServer_1.HttpServer(testConfig.appInfo, config, new DbProcessor_1.DbProcessor(config));
server.run();
describe("HTTP Server", function () {
    it("should support CRUD", function (done) {
        var originalEntity = {
            firstName: "Jim",
            lastName: "Smythe"
        };
        // POST
        Http.request(getHttpOptions("/" + testConfig.dbName + "/people", "POST"), function (response) {
            var entityLocation = response.headers["location"];
            Assert.equal(response.statusCode, HttpStatusCodes.CREATED);
            Assert.notEqual(entityLocation, null);
            readEntity(response, function (entity) {
                Assert.equal(entity.firstName, originalEntity.firstName);
                Assert.equal(entity.lastName, originalEntity.lastName);
                originalEntity.firstName = "Tammie";
                originalEntity.age = 22;
                // PUT
                Http.request(getHttpOptions(entityLocation, "PUT"), function (response) {
                    Assert.equal(HttpStatusCodes.OK, response.statusCode);
                    readEntity(response, function (entity) {
                        Assert.equal(entity.firstName, originalEntity.firstName);
                        Assert.equal(entity.age, originalEntity.age);
                        // GET
                        Http.request(getHttpOptions(entityLocation, "GET"), function (response) {
                            Assert.equal(HttpStatusCodes.OK, response.statusCode);
                            readEntity(response, function (entity) {
                                Assert.equal(entity.firstName, originalEntity.firstName);
                                Assert.equal(entity.lastName, originalEntity.lastName);
                                Assert.equal(entity.age, originalEntity.age);
                                // DELETE
                                Http.request(getHttpOptions(entityLocation, "DELETE"), function (response) {
                                    Assert.equal(response.statusCode, HttpStatusCodes.OK);
                                    // Get (again)
                                    Http.request(getHttpOptions(entityLocation, "GET"), function (response) {
                                        Assert.equal(response.statusCode, HttpStatusCodes.NOT_FOUND);
                                        done();
                                    })
                                        .end();
                                })
                                    .end();
                            });
                        })
                            .end();
                    });
                })
                    .end(JSON.stringify(originalEntity));
            });
        })
            .end(JSON.stringify(originalEntity));
    });
    it("can GET multiple", function (done) {
        var path = "/" + testConfig.dbName + "/people";
        var total = 9;
        var current = 0;
        var postNext = function () {
            if (current != total) {
                var entity = {
                    firstName: "First" + current,
                    lastName: "Last" + current
                };
                Http.request(getHttpOptions(path, "POST"), function (response) {
                    Assert.equal(response.statusCode, HttpStatusCodes.CREATED);
                    current++;
                    postNext();
                })
                    .end(JSON.stringify(entity));
            }
            else
                getAll();
        };
        var getAll = function () {
            Http.request(getHttpOptions(path, "GET"), function (response) {
                readEntity(response, function (entities) {
                    Assert.notEqual(entities, null);
                    Assert.equal(Array.isArray(entities), true);
                    Assert.equal(entities.length >= total, true);
                    for (var i = 0; i < entities.length; i++) {
                        var entity = entities[i];
                        Assert.notEqual(entity, null);
                        Assert.equal(entity.hasOwnProperty("firstName"), true);
                        Assert.notEqual(entity.firstName, null);
                        Assert.equal(entity.hasOwnProperty("lastName"), true);
                        Assert.notEqual(entity.lastName, null);
                    }
                    done();
                });
            })
                .end();
        };
        postNext();
    });
    it("can execute simple search", function (done) {
        this.timeout(0);
        var path = "/" + testConfig.dbName + "/people";
        Http.request(getHttpOptions(path, "POST"), function (response) {
            Assert.equal(response.statusCode, HttpStatusCodes.CREATED);
            var search = {
                firstName: {
                    fieldName: "firstName",
                    operator: "equals",
                    value: "Jim"
                }
            };
            var qs = Util.format("search=%s", encodeURIComponent(JSON.stringify(search)));
            var searchPath = Util.format("%s?%s", path, qs);
            Http.request(getHttpOptions(searchPath, "GET"), function (response) {
                readEntity(response, function (entities) {
                    Assert.notEqual(entities, null);
                    Assert.equal(Array.isArray(entities), true);
                    Assert.equal(entities.length > 0, true);
                    for (var i = 0; i < entities.length; i++) {
                        var entity = entities[i];
                        Assert.equal(entity.firstName, search.firstName.value);
                    }
                    done();
                });
            })
                .end();
        })
            .end(JSON.stringify({
            firstName: "Jim",
            lastName: "Smythe"
        }));
    });
    after(function (done) {
        rimraf(Path.resolve(testConfig.dataPath, testConfig.dbName), function (err) {
            server.stop();
            done(err);
        });
    });
});
function getHttpOptions(path, method) {
    return {
        host: process.env.IP,
        port: config.port,
        method: method,
        path: path
    };
}
function readEntity(response, callback) {
    var rawData = "";
    response.on("data", function (chunk) { rawData += chunk.toString(); });
    response.on("end", function () {
        var parsedEntity = null;
        try {
            parsedEntity = JSON.parse(rawData);
        }
        catch (err) {
            throw Error(Util.format("Could not parse JSON returned from URL \"%s\": %s", response.url, rawData));
        }
        callback(parsedEntity);
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzZXJ2ZXJ0ZXN0cy50cyJdLCJuYW1lcyI6WyJnZXRIdHRwT3B0aW9ucyIsInJlYWRFbnRpdHkiXSwibWFwcGluZ3MiOiJBQUNBLElBQVksTUFBTSxXQUFNLFFBQVEsQ0FBQyxDQUFBO0FBQ2pDLElBQVksSUFBSSxXQUFNLE1BQU0sQ0FBQyxDQUFBO0FBQzdCLElBQVksSUFBSSxXQUFNLE1BQU0sQ0FBQyxDQUFBO0FBQzdCLElBQVksZUFBZSxXQUFNLG1CQUFtQixDQUFDLENBQUE7QUFDckQsSUFBWSxJQUFJLFdBQU0sTUFBTSxDQUFDLENBQUE7QUFDN0IsSUFBWSxNQUFNLFdBQU0sUUFBUSxDQUFDLENBQUE7QUFDakMsMkJBQXlCLGVBQWUsQ0FBQyxDQUFBO0FBRXpDLHVCQUFxQixXQUFXLENBQUMsQ0FBQTtBQUNqQyw0QkFBMEIsZ0JBQWdCLENBQUMsQ0FBQTtBQUMzQywyQkFBeUIsY0FBYyxDQUFDLENBQUE7QUFFeEMsSUFBSSxVQUFVLEdBQUcsdUJBQVUsQ0FBQyxRQUFRLENBQUM7QUFDckMsSUFBSSxNQUFNLEdBQUcsSUFBSSxlQUFNLENBQUMsS0FBSyxFQUFFLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQzVELElBQUksTUFBTSxHQUFHLElBQUksdUJBQVUsQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxJQUFJLHlCQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUVqRixNQUFNLENBQUMsR0FBRyxFQUFFLENBQUM7QUFFYixRQUFRLENBQUMsYUFBYSxFQUFFO0lBQ3BCLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxVQUFVLElBQWU7UUFDL0MsSUFBSSxjQUFjLEdBQVE7WUFDdEIsU0FBUyxFQUFFLEtBQUs7WUFDaEIsUUFBUSxFQUFFLFFBQVE7U0FDckIsQ0FBQztRQUVGLE9BQU87UUFDUCxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxHQUFHLEdBQUcsVUFBVSxDQUFDLE1BQU0sR0FBRyxTQUFTLEVBQUUs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QyxDQUFDO3dCQUV6QixNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDM0QsQ0FBQztvQkFFRCxJQUFJLEVBQUUsQ0FBQztnQkFDWCxDQUFDLENBQUMsQ0FBQztZQUNQLENBQUMsQ0FBQztpQkFDRCxHQUFHLEVBQUUsQ0FBQztRQUNYLENBQUMsQ0FBQzthQUNELEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1lBQ2hCLFNBQVMsRUFBRSxLQUFLO1lBQ2hCLFFBQVEsRUFBRSxRQUFRO1NBQ3JCLENBQUMsQ0FBQyxDQUFDO0lBQ1IsQ0FBQyxDQUFDLENBQUM7SUFFSCxLQUFLLENBQUMsVUFBVSxJQUFlO1FBQzNCLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFLFVBQUMsR0FBVTtZQUNwRSxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDZCxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDZCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDLENBQUM7QUFFSCx3QkFBd0IsSUFBWSxFQUFFLE1BQWM7SUFDaERBLE1BQU1BLENBQUNBO1FBQ0hBLElBQUlBLEVBQUVBLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBO1FBQ3BCQSxJQUFJQSxFQUFFQSxNQUFNQSxDQUFDQSxJQUFJQTtRQUNqQkEsTUFBTUEsRUFBRUEsTUFBTUE7UUFDZEEsSUFBSUEsRUFBRUEsSUFBSUE7S0FDYkEsQ0FBQ0E7QUFDTkEsQ0FBQ0E7QUFFRCxvQkFBb0IsUUFBOEIsRUFBRSxRQUE4QjtJQUM5RUMsSUFBSUEsT0FBT0EsR0FBR0EsRUFBRUEsQ0FBQ0E7SUFFakJBLFFBQVFBLENBQUNBLEVBQUVBLENBQUNBLE1BQU1BLEVBQUVBLFVBQVVBLEtBQWFBLElBQUksT0FBTyxJQUFJLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQ0EsQ0FBQ0E7SUFDL0VBLFFBQVFBLENBQUNBLEVBQUVBLENBQUNBLEtBQUtBLEVBQUVBO1FBQ2YsSUFBSSxZQUFZLEdBQVcsSUFBSSxDQUFDO1FBRWhDLElBQUksQ0FBQztZQUNELFlBQVksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZDLENBQ0E7UUFBQSxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ1QsTUFBTSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxtREFBbUQsRUFBRSxRQUFRLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDekcsQ0FBQztRQUVELFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUMzQixDQUFDLENBQUNBLENBQUNBO0FBQ1BBLENBQUNBIiwiZmlsZSI6Ikh0dHBTZXJ2ZXJUZXN0cy5qcyIsInNvdXJjZVJvb3QiOiIuLi8ifQ==
